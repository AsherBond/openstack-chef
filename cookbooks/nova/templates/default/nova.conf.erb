--dhcpbridge_flagfile=/etc/nova/nova.conf
--dhcpbridge=/usr/bin/nova-dhcpbridge
--logdir=/var/log/nova
--state_path=/var/lib/nova
--verbose
--my_ip=<%= node[:nova][:my_ip] %>
--public_interface=<%= node[:nova][:public_interface] %>
<% if node[:nova][:vlan_interface] %>--vlan_interface=<%= node[:nova][:vlan_interface] %><% end %>
--iscsi_ip_prefix=<%= node[:nova][:my_ip].split('.')[0..2].join('.') %>
<% if @sql_connection %>--sql_connection=<%= @sql_connection %><% end %>
<% if node[:nova][:libvirt_type] %>--libvirt_type=<%= node[:nova][:libvirt_type] %><% end %>
<% if @rabbit_settings %>
--rabbit_host=<%= @rabbit_settings[:address] %>
--rabbit_port=<%= @rabbit_settings[:port] %>
--rabbit_userid=<%= @rabbit_settings[:user] %>
--rabbit_password=<%= @rabbit_settings[:password] %>
--rabbit_virtual_host=<%= @rabbit_settings[:vhost] %>
<% end %>
--network_manager=<%= node[:nova][:network_manager] %>
--default_project=<%= node[:nova][:default_project] %>
<% if node[:nova][:flat_network_bridge] %>--flat_network_bridge=<%= node[:nova][:flat_network_bridge] %><% end %>
<% if node[:nova][:flat_interface] and not node[:nova][:flat_interface].empty? %>--flat_interface=<%= node[:nova][:flat_interface] %><% end %>
<% if node[:nova][:flat_network_dhcp_start] %>--flat_network_dhcp_start=<%= node[:nova][:flat_network_dhcp_start] %><% end %>
<% if node[:nova][:fixed_range] %>--fixed_range=<%= node[:nova][:fixed_range] %><% end %>
--glance_api_servers=<%= node[:nova][:glance_host] %>:<%= node[:nova][:glance_port] %>
--image_service=<%= node[:nova][:image_service] %>
--lock_path=<%= node[:nova][:lock_path] %>
--sql_idle_timeout=<%= node[:nova][:db][:sql_idle_timeout] %>
--use_ipv6=<%= node[:nova][:use_ipv6] %>
<% if node[:nova][:connection_type] %>--connection_type=<%= node[:nova][:connection_type] %><% end %>
<% if node[:nova][:xenapi_connection_url] %>--xenapi_connection_url=<%= node[:nova][:xenapi_connection_url] %><% end %>
<% if node[:nova][:xenapi_connection_username] %>--xenapi_connection_username=<%= node[:nova][:xenapi_connection_username] %><% end %>
<% if node[:nova][:xenapi_connection_password] %>--xenapi_connection_password=<%= node[:nova][:xenapi_connection_password] %><% end %>
<% if node[:nova][:rescue_timeout] %>--rescue_timeout=<%= node[:nova][:rescue_timeout] %><% end %>
<% if node[:nova][:allow_admin_api] %>--allow_admin_api=<%= node[:nova][:allow_admin_api] %><% end %>
<% if node[:nova][:xenapi_remap_vbd_dev] %>--xenapi_remap_vbd_dev=<%= node[:nova][:xenapi_remap_vbd_dev] %><% end %>
<% if node[:nova][:block_device_creation_timeout] %>--block_device_creation_timeout=<%= node[:nova][:block_device_creation_timeout] %><% end %>
